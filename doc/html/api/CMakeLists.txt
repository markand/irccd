#
# CMakeLists.txt -- CMake build system for irccd
#
# Copyright (c) 2013-2016 David Demelier <markand@malikania.fr>
#
# Permission to use, copy, modify, and/or distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
#

project(api)

include(event/Files.cmake)
include(module/Irccd/Files.cmake)
include(module/Irccd.Directory/Files.cmake)
include(module/Irccd.ElapsedTimer/Files.cmake)
include(module/Irccd.File/Files.cmake)
include(module/Irccd.Logger/Files.cmake)
include(module/Irccd.Plugin/Files.cmake)
include(module/Irccd.Server/Files.cmake)
include(module/Irccd.System/Files.cmake)
include(module/Irccd.Timer/Files.cmake)
include(module/Irccd.Unicode/Files.cmake)
include(module/Irccd.Util/Files.cmake)

set(
    SOURCES
    ${api_SOURCE_DIR}/index.md
    ${IRCCD_SOURCES}
    ${DIRECTORY_SOURCES}
    ${ELAPSED_TIMER_SOURCES}
    ${FILE_SOURCES}
    ${EVENT_SOURCES}
    ${LOGGER_SOURCES}
    ${PLUGIN_SOURCES}
    ${SERVER_SOURCES}
    ${SYSTEM_SOURCES}
    ${TIMER_SOURCES}
    ${UNICODE_SOURCES}
    ${UTIL_SOURCES}
)

#
# Each JavaScript API file is generated by pandoc.
#
irccd_define_html(
    SOURCES ${SOURCES}
    DIRECTORY api
    TARGET docs-api
    ARGS -Vjs
)

set_target_properties(
    docs-api
    PROPERTIES
        PROJECT_LABEL api
        FOLDER docs
)